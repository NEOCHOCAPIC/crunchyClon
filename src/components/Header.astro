---
import crunchy from "../assets/img/cruncgy.svg";
import CrunchyMovil from "../assets/img/CrunchyMovil.svg";
---

<header class="bg-[#23252b]">
  <div class="flex max-w-7xl mx-auto justify-between items-center p-4">
    <!-- Menú hamburguesa para moviles -->
    <button
      id="menu-button"
      class="text-white lg:hidden focus:outline-none h-10"
    >
      <svg
        class="w-8 h-8"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>
    </button><!-- Fin de mi menu hamburguesa -->
    <nav class="flex items-center space-x-8">
      <img src={CrunchyMovil.src} alt="Logo de Crunchyroll" class="lg:hidden" />
      <img
        src={crunchy.src}
        alt="Logo de Crunchyroll"
        class="hidden md:block"
      />
      <ul class="hidden lg:flex space-x-5 text-white">
        <li>
          <a
            href="#"
            class="hover:bg-gray-900 px-3 py-5 transition duration-150 ease-in-out"
            >Explorar</a
          >
        </li>
        <li>
          <a
            href="#"
            class="hover:bg-gray-900 px-3 py-5 transition duration-150 ease-in-out"
            >Juegos</a
          >
        </li>
        <li>
          <a
            href="#"
            class="hover:bg-gray-900 px-3 py-5 transition duration-150 ease-in-out"
            >Catalogo</a
          >
        </li>
      </ul>
    </nav>
    <div class="text-white items-center">
      <a
        href="#"
        class="hover:bg-gray-900 px-3 py-5 transition duration-150 ease-in-out"
      >
        <svg
          class="w-6 h-6 inline-block"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
        </svg>
      </a>
      <a
        href="#"
        class="hover:bg-gray-900 px-3 py-5 transition duration-150 ease-in-out"
      >
        <svg
          class="w-6 h-6 inline-block"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path>
        </svg>
      </a>
      <a
        href="#"
        class="hover:bg-gray-900 px-3 py-5 transition duration-150 ease-in-out"
      >
        <svg
          class="w-6 h-6 inline-block"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
          ></path>
        </svg>
      </a>
    </div>
  </div>
</header>
<!-- Menú lateral movil -->
<div
  id="sidebar"
  class="fixed left-0 top-16 w-64 h-[calc(100%-4rem)] bg-gray-900 transform -translate-x-full transition-transform duration-300 lg:hidden z-40 overflow-y-auto"
>
  <nav class="mt-4">
    <ul class="space-y-2 text-white">
      <li>
        <a
          href="#"
          class="block px-4 py-2 hover:bg-gray-800 transition duration-150 ease-in-out"
          >Explorar</a
        >
      </li>
      <li>
        <a
          href="#"
          class="block px-4 py-2 hover:bg-gray-800 transition duration-150 ease-in-out"
          >Juegos</a
        >
      </li>
      <li>
        <a
          href="#"
          class="block px-4 py-2 hover:bg-gray-800 transition duration-150 ease-in-out"
          >Noticias</a
        >
      </li>
    </ul>
  </nav>
  <div class="mt-4 text-white">
    <a
      href="#"
      class="block px-4 py-2 hover:bg-gray-800 transition duration-150 ease-in-out"
    >
      <svg
        class="w-6 h-6 inline-block mr-2"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
      </svg>
      Buscar
    </a>
    <a
      href="#"
      class="block px-4 py-2 hover:bg-gray-800 transition duration-150 ease-in-out"
    >
      <svg
        class="w-6 h-6 inline-block mr-2"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path>
      </svg>
      Guardado
    </a>
    <a
      href="#"
      class="block px-4 py-2 hover:bg-gray-800 transition duration-150 ease-in-out"
    >
      <svg
        class="w-6 h-6 inline-block mr-2"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
        ></path>
      </svg>
      Cuenta
    </a>
  </div>
</div>
<script>
  // Selecciona los elementos del DOM
  const menuButton = document.getElementById("menu-button") as HTMLElement;
  const sidebar = document.getElementById("sidebar") as HTMLElement;

  // Función para abrir y cerrar el menú lateral
  function toggleSidebar(): void {
    sidebar.classList.toggle("-translate-x-full");
  }

  // Abre y cierra el menú lateral al hacer clic en el botón de menú
  menuButton.addEventListener("click", (event: MouseEvent) => {
    event.stopPropagation(); // Previene que el clic se propague al documento
    toggleSidebar();
  });

  // Cierra el menú lateral si se hace clic fuera de él
  document.addEventListener("click", (event: MouseEvent) => {
    if (
      !sidebar.contains(event.target as Node) &&
      !menuButton.contains(event.target as Node)
    ) {
      sidebar.classList.add("-translate-x-full");
    }
  });

  // Previene que los clics dentro del sidebar cierren el menú
  sidebar.addEventListener("click", (event: MouseEvent) => {
    event.stopPropagation();
  });
</script>
